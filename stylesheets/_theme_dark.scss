.dark-theme {
  // _debugLog

  .debug-log {
    &.modal {
      .content {
        textarea {
          background-color: $color-dark-85;
          border: 1px solid $color-dark-60;
          color: $color-dark-05;
        }
      }
    }

    .result {
      .open {
        border: solid 1px $color-dark-60;
        background-color: $color-dark-85;
        color: $color-dark-05;

        &:before {
          @include header-icon-white('../images/open_link.svg');
        }
      }

      .link {
        color: $color-dark-05;
        border: solid 1px $color-dark-60;
        border-right: none;
        background-color: $color-dark-85;
      }
    }
  }

  // _emoji
  .ep-emojies {
    background-color: $color-gray-95;
  }

  .ep-categories {
    background-color: $color-dark-85;
  }

  button.emoji {
    &:before {
      margin-top: 7px;
      @include color-svg('../images/smile.svg', $color-dark-30);
    }
  }

  // _global

  .dark-overlay {
    background-color: $color-gray-95;
  }

  .title-bar {
    color: $color-dark-05;
  }

  button.grey {
    border: solid 1px #ccc;
    color: $grey;
    background: $grey_l;
    box-shadow: 0 0 10px -5px rgba($grey, 0.5);

    &:hover {
      box-shadow: 0 0 10px -3px rgba($grey, 0.7);
    }
  }

  a {
    color: $session-color-green;
  }

  .file-input {
    .paperclip {
      &:before {
        @include color-svg('../images/paperclip.svg', $color-dark-30);
      }
    }
  }

  .contact-details {
    .number {
      color: $color-dark-30;
    }

    .verified-icon {
      @include color-svg('../images/verified-check.svg', $grey);
    }
  }

  .recipients-input {
    .recipients-container {
      background-color: white;
      border-bottom: 1px solid #f2f2f2;
    }

    .recipient {
      background-color: $blue;
      color: white;

      &.error {
        background-color: #f00;
      }
    }

    .results {
      box-shadow: 0px 0px 1px rgba(#aaa, 0.8);
    }
  }

  .loading {
    position: relative;
    &::before {
      border: solid 3px;
      border-color: $blue_l $blue_l $grey_l $grey_l !important;
    }
  }

  .x {
    &:before {
      @include color-svg('../images/x.svg', white);
    }
  }

  // banner shown when app version expired and must be updated
  .expiredAlert {
    background: $session-color-green;
    color: black;
    /* biggest we can make the font without wrapping the current text at minimum app width */
    font-family: $session-font-accent;
    font-size: 16px;
    height: 60px;

    span {
      line-height: 45px;
    }

    button {
      font-size: 14px;
      height: 36px;
      color: white;
      background: #474646;
    }
  }

  .tool-bar {
    color: $color-dark-05;

    .search-icon {
      background-color: $color-light-35;
    }
  }

  input.search {
    border: 1px solid $color-light-60;
    color: $color-dark-05;
    background-color: $color-gray-95;

    &:focus {
      outline: solid 1px $blue;
    }
  }

  .last-timestamp {
    color: $grey;
  }

  .index {
    .gutter .timestamp {
      color: $grey;
    }
  }

  .hint {
    color: white;
    border: 2px dashed white;

    &.firstRun {
      &:before,
      &:after {
        border: solid 10px white;
        border-color: transparent white transparent transparent;
      }
      &:after {
        border-color: transparent #2eace0 transparent transparent;
      }
    }
  }

  .contact.placeholder {
    color: white;
    border: 2px dashed white;
    p {
      color: white;
    }
    &:before,
    &:after {
      border: solid 10px white;
      border-color: transparent transparent white transparent;
    }
    &:after {
      border-color: transparent transparent #2eace0 transparent;
    }
  }

  // _lightbox

  .iconButton {
    background: transparent;

    &:hover {
      background: $grey;
    }

    &.save {
      &:before {
        @include color-svg('../images/save.svg', white);
      }
    }

    &.close {
      &:before {
        @include color-svg('../images/x.svg', white);
      }
    }

    &.previous {
      &:before {
        @include color-svg('../images/back.svg', white);
      }
    }

    &.next {
      &:before {
        @include color-svg('../images/forward.svg', white);
      }
    }
  }

  // _modal

  .modal {
    background-color: rgba(0, 0, 0, 0.3);

    .content {
      background-color: $color-gray-95;
      box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.2);
    }
  }

  // _modules

  // Module: Message

  .module-message__error {
    @include color-svg('../images/error.svg', $session-color-danger);
  }

  .module-message__img-border-overlay {
    box-shadow: inset 0px 0px 0px 1px $color-white-015;
  }

  .module-message__img-overlay {
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0),
      rgba(0, 0, 0, 0) 9%,
      rgba(0, 0, 0, 0.02) 17%,
      rgba(0, 0, 0, 0.05) 24%,
      rgba(0, 0, 0, 0.08) 31%,
      rgba(0, 0, 0, 0.12) 37%,
      rgba(0, 0, 0, 0.16) 44%,
      rgba(0, 0, 0, 0.2) 50%,
      rgba(0, 0, 0, 0.24) 56%,
      rgba(0, 0, 0, 0.28) 63%,
      rgba(0, 0, 0, 0.32) 69%,
      rgba(0, 0, 0, 0.35) 76%,
      rgba(0, 0, 0, 0.38) 83%,
      rgba(0, 0, 0, 0.4) 91%,
      rgba(0, 0, 0, 0.4)
    );
  }

  .module-message__broken-image {
    color: $color-dark-05;
  }

  .module-message__broken-image--incoming {
    color: $color-white;
  }

  .module-message__video-overlay__circle {
    background-color: $color-white;
  }

  .module-message__video-overlay__play-icon {
    @include color-svg('../images/play.svg', $color-loki-green);
  }

  .module-message__broken-video-screenshot {
    color: $color-dark-05;
  }

  .module-message__link-preview__content {
    background-color: $color-gray-95;
    border: 1px solid $color-gray-60;
  }

  .module-message__link-preview__content--with-content-above {
    border-top: none;
    border-bottom: none;
  }

  .module-message__link-preview__title {
    color: $color-gray-05;
  }

  .module-message__link-preview__location {
    color: $color-gray-25;
  }

  .module-message__metadata__date--with-image-no-caption {
    color: $color-white-08;
  }

  .module-message__metadata__status-icon--sending {
    @include color-svg('../images/sending.svg', $color-white-08);
  }

  .module-message__metadata__status-icon--pow {
    @include color-svg('../images/pow.svg', $color-white-08);
  }

  .module-message__metadata__status-icon--sent {
    @include color-svg('../images/check-circle-outline.svg', $color-white-08);
  }

  .module-message__metadata__status-icon--delivered {
    @include color-svg('../images/double-check.svg', $color-white-08);
  }

  .module-message__metadata__status-icon--read {
    @include color-svg('../images/read.svg', $color-white-08);
  }

  // When status indicators are overlaid on top of an image, they use different colors
  .module-message__metadata__status-icon--with-image-no-caption {
    background-color: $color-dark-05;
  }

  .module-message__send-message-button {
    color: $color-loki-green;
    background-color: $color-dark-70;
    border: 1px solid $color-dark-60;
  }

  // Module: Expire Timer

  .module-expire-timer {
    @include color-svg('../images/timer-60.svg', $color-white-08);
  }

  .module-expire-timer--55 {
    @include color-svg('../images/timer-55.svg', $color-white-08);
  }
  .module-expire-timer--50 {
    @include color-svg('../images/timer-50.svg', $color-white-08);
  }
  .module-expire-timer--45 {
    @include color-svg('../images/timer-45.svg', $color-white-08);
  }
  .module-expire-timer--40 {
    @include color-svg('../images/timer-40.svg', $color-white-08);
  }
  .module-expire-timer--35 {
    @include color-svg('../images/timer-35.svg', $color-white-08);
  }
  .module-expire-timer--30 {
    @include color-svg('../images/timer-30.svg', $color-white-08);
  }
  .module-expire-timer--25 {
    @include color-svg('../images/timer-25.svg', $color-white-08);
  }
  .module-expire-timer--20 {
    @include color-svg('../images/timer-20.svg', $color-white-08);
  }
  .module-expire-timer--15 {
    @include color-svg('../images/timer-15.svg', $color-white-08);
  }
  .module-expire-timer--10 {
    @include color-svg('../images/timer-10.svg', $color-white-08);
  }
  .module-expire-timer--05 {
    @include color-svg('../images/timer-05.svg', $color-white-08);
  }
  .module-expire-timer--00 {
    @include color-svg('../images/timer-00.svg', $color-white-08);
  }

  .module-expire-timer--incoming {
    background-color: $color-white-08;
  }

  // When status indicators are overlaid on top of an image, they use different colors
  .module-expire-timer--with-image-no-caption {
    background-color: $color-dark-05;
  }

  // Module: Embedded Contact

  .module-embedded-contact__contact-name {
    color: $color-dark-05;
  }

  .module-embedded-contact__contact-name--incoming {
    color: $color-white;
  }

  .module-embedded-contact__contact-method {
    color: $color-white-07;
  }

  .module-embedded-contact__contact-method--incoming {
    color: $color-white-07;
  }

  // Module: Contact Detail

  .module-contact-detail__send-message {
    background-color: $blue;
    color: $color-white;
  }

  .module-contact-detail__send-message__bubble-icon {
    @include color-svg('../images/chat-bubble.svg', white);
  }

  .module-contact-detail__additional-contact {
    border-top: 1px solid $color-dark-70;
  }

  .module-contact-detail__additional-contact__type {
    color: $color-light-45;
  }

  // Module: Group Notification

  .module-group-notification {
    color: $color-dark-30;
  }

  // Module: Reset Session Notification

  .module-reset-session-notification {
    color: $color-dark-30;
  }

  // Module: Safety Number Notification

  .module-safety-number-notification__icon {
    @include color-svg('../images/shield.svg', $color-dark-30);
  }

  .module-safety-number-notification__text {
    color: $color-dark-30;
  }

  .module-verification-notification__button {
    color: $color-loki-green;
    background-color: $color-gray-75;
  }

  // Module: Verification Notification

  .module-verification-notification {
    color: $color-dark-30;
  }

  .module-verification-notification__icon--mark-verified {
    @include color-svg('../images/verified-check.svg', $color-dark-30);
  }

  .module-verification-notification__icon--mark-not-verified {
    @include color-svg('../images/shield.svg', $color-dark-30);
  }

  // Module: Timer Notification

  .module-timer-notification {
    color: $color-dark-30;
  }

  .module-timer-notification__icon {
    @include color-svg('../images/timer.svg', $color-dark-30);
  }

  .module-timer-notification__icon--disabled {
    @include color-svg('../images/timer-disabled.svg', $color-dark-30);
  }

  // Module: Contact List Item

  .module-contact-list-item {
    color: $color-dark-30;
  }

  .module-contact-list-item__text__verified-icon {
    @include color-svg('../images/verified-check.svg', $color-dark-30);
  }

  // Module: Conversation Header

  .module-conversation-header__back-icon {
    @include color-svg('../images/back.svg', $color-dark-05);
  }

  .module-conversation-header__title {
    color: $color-dark-05;
  }

  // Module: Message Detail

  .module-message-detail__delete-button {
    background-color: $session-color-danger;
    color: $color-white;
    box-shadow: 0 0 10px -3px rgba(97, 97, 97, 0.7);
    border: solid 1px $color-light-35;
  }

  .module-message-detail__contact__error {
    color: $session-color-danger;
  }

  .module-message-detail__contact__status-icon--sending {
    @include color-svg('../images/sending.svg', $color-light-35);
  }

  .module-message-detail__contact__status-icon--sent {
    @include color-svg('../images/check-circle-outline.svg', $color-light-35);
  }
  .module-message-detail__contact__status-icon--delivered {
    @include color-svg('../images/double-check.svg', $color-light-35);
  }
  .module-message-detail__contact__status-icon--read {
    @include color-svg('../images/read.svg', $color-light-35);
  }
  .module-message-detail__contact__status-icon--error {
    @include color-svg('../images/error.svg', $session-color-danger);
  }

  .module-message-detail__contact__show-safety-number {
    color: $color-white;
    background-color: $color-light-35;
  }
  .module-message-detail__contact__send-anyway {
    color: $color-white;
    background-color: $session-color-danger;
  }

  // Module: Media Gallery

  .module-media-gallery__tab {
    background-color: $color-dark-85;
  }

  .module-media-gallery__tab--active {
    border-bottom: 2px solid $color-loki-green;
  }

  // Module: Document List Item

  .module-document-list-item--with-separator {
    border-bottom: 1px solid $color-dark-70;
  }

  .module-document-list-item__icon {
    @include color-svg('../images/file.svg', $color-dark-60);
  }

  // Module: Media Grid Item

  .module-media-grid-item {
    background-color: $color-dark-85;
  }

  .module-media-grid-item__icon-image {
    @include color-svg('../images/image.svg', $color-dark-60);
  }

  .module-media-grid-item__icon-video {
    @include color-svg('../images/movie.svg', $color-dark-60);
  }

  .module-media-grid-item__icon-generic {
    @include color-svg('../images/file.svg', $color-dark-60);
  }

  // Module: Empty State

  .module-empty-state {
    color: $color-dark-55;
  }
  // Module: Conversation List Item

  .module-conversation-list-item--is-selected {
    background-color: $color-dark-70;
  }

  .module-conversation-list-item__unread-count {
    color: $color-white;
    background-color: $color-loki-green;
    box-shadow: 0px 0px 0px 1px $color-dark-85;
  }

  .module-conversation-list-item__header__name {
    color: $color-gray-05;
  }

  .module-conversation-list-item__header__timestamp {
    color: $color-gray-25;
  }

  .module-conversation-list-item__header__date--has-unread {
    color: $color-gray-05;
  }

  .module-conversation-list-item__message__text {
    color: $color-gray-25;
  }

  .module-conversation-list-item__message__text--has-unread {
    color: $color-gray-05;
  }

  .module-conversation-list-item__message__status-icon--sending {
    @include color-svg('../images/sending.svg', $color-light-35);
  }

  .module-conversation-list-item__message__status-icon--sent {
    @include color-svg('../images/check-circle-outline.svg', $color-light-35);
  }
  .module-conversation-list-item__message__status-icon--delivered {
    @include color-svg('../images/double-check.svg', $color-light-35);
    width: 18px;
  }
  .module-conversation-list-item__message__status-icon--read {
    @include color-svg('../images/read.svg', $color-light-35);
    width: 18px;
  }

  // Module: Main Header

  .module-main-header__search__input {
    background-color: $color-gray-95;
    border-radius: 14px;
    border: solid 1px $color-gray-75;
    color: $color-gray-05;

    &::placeholder {
      color: $color-gray-45;
    }

    &:focus {
      border: solid 1px blue;
      outline: none;
    }
  }

  .module-main-header__search__cancel-icon {
    @include color-svg('../images/x-16.svg', $color-gray-25);
  }

  // Module: Image

  .module-image {
    background-color: $color-black;
  }

  .module-image__border-overlay {
    box-shadow: inset 0px 0px 0px 1px $color-white-015;
  }

  .module-image__loading-placeholder {
    background-color: $color-white-015;
  }

  // Module: Typing Animation

  .module-typing-animation__dot {
    background-color: $color-white;
  }

  .module-typing-animation__dot--light {
    background-color: $color-white;
  }

  // Module: Attachments

  .module-attachments {
    border-top: 1px solid $color-gray-75;
  }

  .module-attachments__close-button {
    @include color-svg('../images/x-16.svg', $color-gray-45);
  }

  // Module: Staged Generic Attachment

  .module-staged-generic-attachment {
    box-shadow: inset 0px 0px 0px 1px $color-gray-45;
    background-color: $color-gray-75;
    color: $color-dark-05;
  }

  .module-staged-generic-attachment__close-button {
    @include color-svg('../images/x.svg', $color-gray-45);
  }

  .module-staged-generic-attachment__icon {
    background: url('../images/file-gradient.svg') no-repeat center;
  }

  .module-staged-generic-attachment__icon__extension {
    color: $color-gray-90;
  }

  // Module: Staged Placeholder Attachment

  .module-staged-placeholder-attachment {
    border: 1px solid $color-gray-60;

    &:hover {
      background: $color-gray-75;
    }
  }

  .module-staged-placeholder-attachment__plus-icon {
    @include color-svg('../images/plus-36.svg', $color-gray-60);
  }

  // Module: Staged Link Preview

  .module-staged-link-preview__loading {
    color: $color-gray-25;
  }
  .module-staged-link-preview__title {
    color: $color-gray-05;
  }
  .module-staged-link-preview__location {
    color: $color-gray-25;
  }
  .module-staged-link-preview__close-button {
    @include color-svg('../images/x-16.svg', $color-gray-25);
  }

  // Module: Spinner

  .module-spinner__circle {
    background-color: $color-white-04;
  }
  .module-spinner__arc {
    background-color: $color-gray-05;
  }

  .module-spinner__circle--incoming {
    background-color: $color-white-04;
  }
  .module-spinner__arc--incoming {
    background-color: $color-gray-05;
  }

  .module-spinner__circle--outgoing {
    background-color: $color-white-04;
  }
  .module-spinner__arc--outgoing {
    background-color: $color-gray-05;
  }

  // Module: Caption Editor

  .module-caption-editor {
    background-color: $color-black;
  }

  .module-caption-editor__close-button {
    @include color-svg('../images/x-16.svg', $color-white);
  }

  .module-caption-editor__media-container {
    background-color: $color-black;
  }

  .module-caption-editor__caption-input {
    border: 1px solid $color-white;
    color: $color-white;
    background-color: $color-black;

    &::placeholder {
      color: $color-white-07;
    }
    &:focus {
      border: 1px solid $color-loki-green;
      outline: none;
    }
  }

  .module-caption-editor__save-button {
    background-color: $color-loki-green;
    color: $color-white;
  }

  // Module: Search Results

  .module-search-results__conversations-header {
    color: $color-gray-05;
  }
  .module-search-results__contacts-header {
    color: $color-gray-05;
  }
  .module-search-results__messages-header {
    color: $color-gray-05;
  }

  // Module: Message Search Result

  .module-message-search-result {
    &:hover {
      background-color: $color-dark-70;
    }
  }

  .module-message-search-result--is-selected {
    background-color: $color-dark-70;
  }

  .module-message-search-result__header__from {
    color: $color-gray-05;
  }

  .module-message-search-result__header__timestamp {
    color: $color-gray-25;
  }

  .module-message-search-result__body {
    color: $color-gray-05;
  }

  .capture-audio {
    .microphone {
      &:before {
        @include color-svg('../images/microphone.svg', $color-dark-30);
      }
    }
  }
  .recorder {
    background: $color-black;

    .finish {
      background: lighten($session-color-green, 20%);
      border: 1px solid $session-color-green;

      .icon {
        @include color-svg('../images/check.svg', $session-color-green);
      }
    }

    .close {
      background: lighten($session-color-danger, 20%);
      border: 1px solid $session-color-danger;

      .icon {
        @include color-svg('../images/x.svg', $session-color-danger);
      }
    }

    .time {
      color: $grey;
    }
  }
}
